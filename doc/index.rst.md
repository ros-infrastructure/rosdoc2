# index.rst Customization

The documentation generated by **rosdoc2** uses an overall index file that controls what is shown. Since this is restructuredText, the index file is named ```index.rst```

The overall ```index.rst``` for the **rosdoc2** output is generated from a template file that uses the [Jinja2](https://jinja.palletsprojects.com/) templating language (which is the same template format used by Sphinx). The template is called ```index.rst.jinja```.

In addition, the user may have documentation in subdirectories that will be displayed by **rosdoc2**. These subdirectories may either declare their own ```index.rst``` files, or **rosdoc2** will automatically generate one that will link to all of the documentation files in that directory and any subdirectories.

Users may also use a Jinja template to generate index.rst files for either the entire **rosdoc2** output, or for their documentation directory (`doc` by default.) To use Jinja to generate `index.rst` in your documentation directory, simply place a file called `index.rst.jinja` there.

If you want to override the `index.rst` for the entire **rosdoc2** output, you can place a file called either `index.rst` (not using Jinja) or `index.rst.jinja` (using Jinja) in your documentation directory, and specify `sphinx_sourcedir` in `rosdoc2.yaml` to point to your directory containing `index.rst.jinja`. Alternatively, you can simply place a file `index.rst` or `index.rst.jinja` in the root of your package (the `package.xml` directory) without specifying `sphinx_sourcedir`. The default `index.rst.jinja` is available in the source repo for **rosdoc2** at `rosdoc2/verbs/builders/build/index.rst.jinja`.

In either case, `index.rst.jinja` has template variables available to it. The details of these are defined in the code and beyond the scope of this documentation, but here is a printout of all of the variables, with values from one of the test cases. You can probably figure out their usage from that plus examination of `index.rst.jinja`:

```python
template_variables = {
 'package_name': 'minimum_package',
 'package_version': '0.1.2',
 'package_description': 'Minimal ROS2 test package',
 'package_directory': '/home/yourname/github/yourid/rosdoc2/test/packages/minimum_package',
 'package_build_type': 'catkin',
 'has_python': False,
 'has_cpp': False,
 'has_standard_docs': True,
 'has_documentation': False,
 'has_readme': False,
 'interface_counts': {'msg': 0, 'srv': 0, 'action': 0},
 'package': <catkin_pkg.package.Package object at 0x718456661ee0>,
 'external_doc_url': None,
 'user_doc_dir': None,
 'wrapped_sphinx_directory': '/tmp/pytest-of-user/pytest-48/build/minimum_package/minimum_package/wrapped_sphinx_directory',
 'disable_breathe': False,
 'show_doxygen_html': False
}
```
