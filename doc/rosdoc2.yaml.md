# Using a `rosdoc2.yaml` file to control how your package is documented

Package authors can specify a rosdoc2.yaml file that provides customization of many of the features of **rosdoc2**. To specify this file, you need to:
- Modify the `export` section of your `package.xml` file to point to a `rosdoc2.yaml` configuration file. For example, the `export` section should look like this:
```xml
...
  <export>
    ...
    <rosdoc2>rosdoc2.yaml</rosdoc2>
  </export>
```
- include and customize the `rosdoc2.yaml` file.

The `default_config` command will generate a template for a configuration file `rosdoc2.yaml` that can customize **rosdoc2** operation.
Run **rosdoc2** as follows to generate a prototype rosdoc2.yaml file in your package.xml directory:

```
usage: rosdoc2 default_config [-h] --package-path PACKAGE_PATH

Create a default rosdoc2 config file in a package

options:
  -h, --help            show this help message and exit
  --package-path PACKAGE_PATH, -p PACKAGE_PATH
                        path to the ROS package
```

That operation will generate a file rosdoc2.yaml in your package directory. Here is the result of that (though you might want to run that yourself to get a current version). Note there are no required options to be set in this file, so uncomment only those you want to change. The defaults should be valid though:

```yaml
## Default configuration, generated by rosdoc2.

## This 'attic section' self-documents this file's type and version.
type: 'rosdoc2 config'
version: 1

---

settings: {
    ## This setting is relevant mostly if the standard Python package layout cannot
    ## be assumed for 'sphinx-apidoc' invocation. The user can provide the path
    ## (relative to the 'package.xml' file) where the Python modules defined by this
    ## package are located.
    # python_source: 'full_package',

    ## This setting, if true, attempts to run `doxygen` and the `breathe`/`exhale`
    ## extensions to `sphinx` regardless of build type. This is most useful if the
    ## user would like to generate C/C++ API documentation for a package that is not
    ## of the `ament_cmake/cmake` build type.
    # always_run_doxygen: false,

    ## This setting, if true, will skip running doxygen` and the `breathe`/`exhale`
    ## extensions to `sphinx` regardless of build type. This is most useful if the
    ## user has generated C++ documentation elsewhere that is included in the doc
    ## folder, or in external documentation.
    # never_run_doxygen: false,

    ## This setting, if true, attempts to run `sphinx-apidoc` regardless of build
    ## type. This is most useful if the user would like to generate Python API
    ## documentation for a package that is not of the `ament_python` build type.
    # always_run_sphinx_apidoc: false,

    ## This setting, if true, will skip running `sphinx-apidoc` regardless of build
    ## type. This is most useful if the user has generated python documentation elsewhere
    ## that is included in the doc folder, or in external documentation.
    # never_run_sphinx_apidoc: false,

    ## This setting, if provided, will override the build_type of this package
    ## for documentation purposes only. If not provided, documentation will be
    ## generated assuming the build_type in package.xml.
    # override_build_type: 'ament_cmake',

    ## This setting, if true, will skip using breathe to process the C++ documentation, and
    #  use the doxygen html instead. This is intended for cases where breathe is throwing
    #  errors.
    # disable_breathe: false,

    ## This setting, if true, will display a link to the Doxygen html output.
    # show_doxygen_html: false,
}
builders:
    ## Each stanza represents a separate build step, performed by a specific 'builder'.
    ## The key of each stanza is the builder to use; this must be one of the
    ## available builders.
    ## The value of each stanza is a dictionary of settings for the builder that
    ## outputs to that directory.
    ## Keys in all settings dictionary are:
    ##  * 'output_dir' - determines output subdirectory for builder instance
    ##                   relative to --output-directory
    ##  * 'name' - used when referencing the built docs from the index.

    - doxygen: {
        # name: 'full_package Public C/C++ API',
        # output_dir: 'generated/doxygen',
        ## file name for a user-supplied Doxyfile
        # doxyfile: null,
        ## additional statements to add to the Doxyfile, list of strings
        # extra_doxyfile_statements: [],
        ## location of include files for Doxygen. By default, rosdoc2 searches in
        ## 'include', 'src', '<package.name>'
        # doxygen_input_dir: null,
      }
    - sphinx: {
        # name: 'full_package',
        ## This path is relative to output staging.
        # doxygen_xml_directory: 'generated/doxygen/xml',
        # output_dir: '',
        ## If sphinx_sourcedir is specified and not null, then the documentation in that folder
        ## (specified relative to the package.xml directory) will replace rosdoc2's normal output.
        ## If sphinx_sourcedir is left unspecified, any documentation found in the doc/ or
        ## doc/source/ folder will still be included by default, along with other relevant package
        ## information.
        # sphinx_sourcedir: null,
        ## Directory (relative to the package.xml directory) where user documentation is found. If
        ## documentation is in one of the standard locations (doc/ or doc/source) this is not
        ## needed. Unlike sphinx_sourcedir, specifying this does not override the standard rosdoc2
        ## output, but includes this user documentation along with other items included by default
        ## by rosdoc2.
        ## If the value is null, any found documentation in doc/ or doc/source/ is ignored.
        # user_doc_dir: 'doc'
      }

```
Each of the options is documented in the rosdoc2.yaml file, along with their default values.

Here is the minimum rosdoc2.yaml file you can create, to which you can add specific options:
```yaml
type: 'rosdoc2 config'
version: 1
---
settings: {
}
builders:
    - doxygen: {
      }
    - sphinx: {
      }
```
